{% extends "base.html" %}
{% block app_content %}

<table class="table table-striped">
    <thead>
    <tr>
        <th scope="col">#</th>
        <th scope="col">Название</th>
        <th scope="col">Начато</th>
        <th scope="col">Завершено</th>
        <th scope="col">Продолжительность</th>
        <th scope="col"></th>
    </tr>
    </thead>
    <tbody>
    {% for result in results if result.finished %}
    <tr>
        <th class="col-md-1" scope="row">{{ loop.index }}</th>
        <td class="col-md-2"><a href="{{ url_for('results_show', result_id=result.id) }}">{{ result.task.name }}</a></td>
        <td class="col-md-2">{{ result.started.strftime('%H:%M:%S %d.%m.%Y') }}</td>
        <td class="col-md-2">{{ result.finished.strftime('%H:%M:%S %d.%m.%Y') }}</td>
        <td class="col-md-2">{{ result.duration | timedelta_format }}</td>
        <td class="col-md-2">
            <a href="{{ url_for('result_export', result_id=result.id) }}" class="btn btn-success">Export</a>
            <button id="{{result.id}}" type="button" class="btn btn-delete btn-danger">Delete</button>
        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}

{% block scripts %}
{{ super() }}
<script src="{{ url_for('static', filename='result_management.js') }}"></script>
{% endblock %}

